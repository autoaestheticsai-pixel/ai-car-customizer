(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{667:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(5155),i=a(5016),l=a(8985);function r(e){let{variant:t="primary",size:a="md",className:r,children:n,...o}=e;return(0,s.jsx)(l.A,{className:(0,i.cn)("font-semibold rounded-2xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-brand-blue/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",{primary:"glow-button magnetic",secondary:"bg-white/10 hover:bg-white/20 text-white border border-white/20 magnetic",ghost:"text-brand-metal hover:text-white hover:bg-white/5 magnetic"}[t],{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}[a],r),...o,children:n})}},1701:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(5155),i=a(2115),l=a(5947),r=a(5229),n=a(1786),o=a(5016);function d(e){let{onFileSelect:t,onFileRemove:a,selectedFile:d,previewUrl:c,accept:m="image/*",maxSize:x=0xa00000,className:u}=e,[h,b]=(0,i.useState)(!1),[p,j]=(0,i.useState)(null),v=(0,i.useCallback)(e=>(j(null),e.type.startsWith("image/"))?e.size>x?void j("File size must be less than ".concat(Math.round(x/1024/1024),"MB")):void t(e):void j("Please select an image file"),[t,x]),f=(0,i.useCallback)(e=>{e.preventDefault(),b(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&v(t[0])},[v]),g=(0,i.useCallback)(e=>{e.preventDefault(),b(!0)},[]),y=(0,i.useCallback)(e=>{e.preventDefault(),b(!1)},[]),w=(0,i.useCallback)(e=>{let t=e.target.files;t&&t.length>0&&v(t[0])},[v]);return d&&c?(0,s.jsxs)("div",{className:(0,o.cn)("relative",u),children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("img",{src:c,alt:"Preview",className:"w-full h-64 object-cover rounded-2xl"}),(0,s.jsx)("button",{onClick:a,title:"Remove image","aria-label":"Remove uploaded image",className:"absolute top-2 right-2 p-2 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors duration-200 opacity-0 group-hover:opacity-100",children:(0,s.jsx)(r.A,{size:16})})]}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-brand-metal",children:[d.name," (",(d.size/1024/1024).toFixed(2)," MB)"]})]}):(0,s.jsxs)("div",{className:(0,o.cn)("relative",u),children:[(0,s.jsxs)(l.P.div,{onDrop:f,onDragOver:g,onDragLeave:y,className:(0,o.cn)("border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 cursor-pointer",h?"border-brand-blue bg-brand-blue/10":"border-white/20 hover:border-brand-blue/50 hover:bg-white/5",p&&"border-red-400 bg-red-400/10"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,s.jsx)("input",{type:"file",accept:m,onChange:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Upload car image file"}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-blue to-brand-blueGlow rounded-2xl flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"w-8 h-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-white font-medium mb-2",children:h?"Drop your image here":"Upload Car Image"}),(0,s.jsx)("p",{className:"text-brand-metal text-sm",children:"Drag and drop or click to browse"}),(0,s.jsx)("p",{className:"text-brand-metal/70 text-xs mt-1",children:"PNG, JPG up to 10MB"})]})]})]}),p&&(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-400 flex items-center space-x-2",children:[(0,s.jsx)(r.A,{size:16}),(0,s.jsx)("span",{children:p})]})]})}var c=a(8026),m=a(8985);function x(e){let{value:t,onChange:a,onSubmit:i,isGenerating:l,className:r}=e;return(0,s.jsxs)("div",{className:r,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-white font-medium mb-2",children:"Describe the modification"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{value:t,onChange:e=>a(e.target.value),placeholder:"e.g., 'Apply a matte black wrap with red racing stripes' or 'Change the wheels to black 20-inch rims'",className:"w-full h-32 px-4 py-3 bg-white/5 border border-white/20 rounded-2xl text-white placeholder-brand-metal/50 focus:outline-none focus:ring-2 focus:ring-brand-blue/50 focus:border-transparent resize-none",disabled:l}),(0,s.jsxs)("div",{className:"absolute bottom-3 right-3 text-brand-metal/50 text-xs",children:[t.length,"/500"]})]})]}),(0,s.jsx)(m.A,{onClick:i,disabled:!t.trim()||l,className:"w-full glow-button magnetic disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Generating..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{size:20}),(0,s.jsx)("span",{children:"Generate"})]})})]})}var u=a(1152),h=a(5740),b=a(7828),p=a(4904),j=a(9867),v=a(8314),f=a(667);function g(e){let{originalImage:t,generatedImage:a,isGenerating:n,onDownload:o,onReset:d,onNewRender:c,className:m}=e,[x,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x&&g(!1)};return x&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[x]),n)?(0,s.jsx)("div",{className:m,children:(0,s.jsx)("div",{className:"glass p-8 rounded-2xl",children:(0,s.jsx)("div",{className:"aspect-video bg-gradient-to-br from-brand-mid to-brand-black rounded-2xl flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-blue to-brand-blueGlow rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,s.jsx)(h.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("p",{className:"text-white font-medium mb-2",children:"Generating your custom ride..."}),(0,s.jsx)("p",{className:"text-brand-metal text-sm",children:"This may take a few moments"}),(0,s.jsx)("div",{className:"mt-4 w-64 h-2 bg-white/10 rounded-full overflow-hidden",children:(0,s.jsx)(l.P.div,{className:"h-full bg-gradient-to-r from-brand-blue to-brand-blueGlow",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:3,ease:"easeInOut"}})})]})})})}):a?(0,s.jsxs)("div",{className:m,children:[(0,s.jsxs)("div",{className:"glass p-6 rounded-2xl",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"font-display font-semibold text-xl text-white mb-2",children:"Generated Result"}),(0,s.jsx)("p",{className:"text-brand-metal text-sm",children:"Your custom car visualization is ready"})]}),(0,s.jsx)("div",{className:"relative mb-6",children:(0,s.jsxs)("div",{className:"aspect-video rounded-2xl overflow-hidden cursor-pointer group relative",onClick:()=>g(!0),children:[(0,s.jsx)("img",{src:a,alt:"Generated result",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:(0,s.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-3",children:(0,s.jsx)(p.A,{className:"w-6 h-6 text-white"})})})}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsx)("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1",children:(0,s.jsx)("p",{className:"text-white text-xs",children:"Click to expand"})})})]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)(f.$,{onClick:o,className:"flex-1",children:[(0,s.jsx)(j.A,{className:"mr-2",size:16}),"Download"]}),(0,s.jsxs)(f.$,{variant:"secondary",onClick:c,className:"flex-1",children:[(0,s.jsx)(h.A,{className:"mr-2",size:16}),"New Render"]}),(0,s.jsxs)(f.$,{variant:"ghost",onClick:d,children:[(0,s.jsx)(v.A,{className:"mr-2",size:16}),"Reset"]})]})]}),(0,s.jsx)(u.N,{children:x&&(0,s.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>g(!1),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,s.jsxs)(l.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative max-w-6xl max-h-[90vh] w-full",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:()=>g(!1),className:"absolute -top-4 -right-4 z-10 bg-white/10 backdrop-blur-sm hover:bg-white/20 rounded-full p-2 transition-colors duration-200","aria-label":"Close expanded image view",children:(0,s.jsx)(r.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("div",{className:"glass rounded-2xl overflow-hidden",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:a,alt:"Generated result - expanded view",className:"w-full h-auto max-h-[80vh] object-contain"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-white font-semibold text-lg mb-1",children:"Your Custom Car Visualization"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:"Click outside or press ESC to close"})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(f.$,{onClick:o,size:"sm",className:"bg-brand-blue hover:bg-brand-blueGlow",children:[(0,s.jsx)(j.A,{className:"mr-2",size:16}),"Download"]})})]})})]})})]})]})})]}):(0,s.jsx)("div",{className:m,children:(0,s.jsx)("div",{className:"glass p-8 rounded-2xl",children:(0,s.jsx)("div",{className:"aspect-video bg-gradient-to-br from-brand-mid to-brand-black rounded-2xl flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(b.A,{className:"w-8 h-8 text-brand-metal"})}),(0,s.jsx)("p",{className:"text-brand-metal",children:"Your generated image will appear here"}),(0,s.jsx)("p",{className:"text-brand-metal/70 text-sm mt-2",children:"Upload a car image and describe your modifications"})]})})})})}var y=a(9297);function w(){let[e,t]=(0,i.useState)(null),[a,r]=(0,i.useState)(null),[n,o]=(0,i.useState)(null),[c,m]=(0,i.useState)(null),[u,h]=(0,i.useState)(""),[b,p]=(0,i.useState)(!1),[j,v]=(0,i.useState)(null),{addToast:f}=(0,y.dj)(),w=(0,i.useCallback)(e=>{t(e),r(URL.createObjectURL(e))},[]),N=(0,i.useCallback)(()=>{t(null),a&&(URL.revokeObjectURL(a),r(null))},[a]),k=(0,i.useCallback)(e=>{o(e),m(URL.createObjectURL(e))},[]),C=(0,i.useCallback)(()=>{o(null),c&&(URL.revokeObjectURL(c),m(null))},[c]),A=(0,i.useCallback)(async()=>{if(!e||!u.trim())return void f({type:"error",title:"Missing required fields",description:"Please upload a car image and describe your modifications."});p(!0);try{let t=new FormData;t.append("image",e),t.append("prompt",u),n&&t.append("reference",n);let a=await fetch("/api/generate",{method:"POST",body:t});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to generate image")}let s=await a.json();v(s.imageUrl),f({type:"success",title:"Image generated successfully!",description:"Your custom car visualization is ready."})}catch(e){console.error("Generation error:",e),f({type:"error",title:"Generation failed",description:e instanceof Error?e.message:"Something went wrong. Please try again."})}finally{p(!1)}},[e,u,n,f]),R=(0,i.useCallback)(()=>{if(j){let e=document.createElement("a");e.href=j,e.download="custom-car-visualization.jpg",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},[j]),P=(0,i.useCallback)(()=>{t(null),r(null),o(null),m(null),h(""),v(null),a&&URL.revokeObjectURL(a),c&&URL.revokeObjectURL(c)},[a,c]),S=(0,i.useCallback)(()=>{v(null)},[]);return(0,s.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"min-h-screen pt-20 pb-20",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"font-display font-bold text-4xl md:text-5xl text-white mb-4",children:"AI Car Visualizer"}),(0,s.jsx)("p",{className:"text-xl text-brand-metal max-w-2xl mx-auto",children:"Upload your car, describe your vision, and watch AI bring it to life"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"glass p-6 rounded-2xl hover:shadow-blue-500/10 hover:border-blue-500/30 transition-all duration-300",children:[(0,s.jsx)("h2",{className:"font-display font-semibold text-xl text-white mb-4",children:"1. Upload Car Image"}),(0,s.jsx)(d,{onFileSelect:w,onFileRemove:N,selectedFile:e,previewUrl:a})]}),(0,s.jsxs)(l.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"glass p-6 rounded-2xl hover:shadow-blue-500/10 hover:border-blue-500/30 transition-all duration-300",children:[(0,s.jsx)("h2",{className:"font-display font-semibold text-xl text-white mb-4",children:"3. Optional Reference Image"}),(0,s.jsx)("p",{className:"text-brand-metal text-sm mb-4",children:"Upload a reference image of wheels, spoilers, or wraps for better results"}),(0,s.jsx)(d,{onFileSelect:k,onFileRemove:C,selectedFile:n,previewUrl:c})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"glass p-6 rounded-2xl hover:shadow-blue-500/10 hover:border-blue-500/30 transition-all duration-300 h-fit",children:[(0,s.jsx)("h2",{className:"font-display font-semibold text-xl text-white mb-4",children:"2. Describe Your Vision"}),(0,s.jsx)(x,{value:u,onChange:h,onSubmit:A,isGenerating:b})]}),(0,s.jsx)(l.P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:(0,s.jsx)(g,{originalImage:a,generatedImage:j,isGenerating:b,onDownload:R,onReset:P,onNewRender:S})})]})]}),j&&(0,s.jsx)(l.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-12",children:(0,s.jsxs)("div",{className:"glass p-6 rounded-2xl",children:[(0,s.jsx)("h3",{className:"font-display font-semibold text-lg text-white mb-4",children:"Recent Generations"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-mid to-brand-black rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-brand-metal text-xs",children:"No history yet"})}),(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-mid to-brand-black rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-brand-metal text-xs",children:"No history yet"})}),(0,s.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-mid to-brand-black rounded-xl flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-brand-metal text-xs",children:"No history yet"})})]})]})})]})})}},2302:(e,t,a)=>{Promise.resolve().then(a.bind(a,1701))},5016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var s=a(2821),i=a(5889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,s.$)(t))}},8985:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(5155),i=a(5947),l=a(2115),r=a(5016);let n=(0,l.forwardRef)((e,t)=>{let{children:a,className:l,...n}=e;return(0,s.jsx)(i.P.button,{ref:t,...n,className:(0,r.cn)(l),whileHover:{scale:1.02},whileTap:{scale:.98},children:a})});n.displayName="MotionButton";let o=n},9297:(e,t,a)=>{"use strict";a.d(t,{dj:()=>h,tE:()=>u});var s=a(5155),i=a(2115),l=a(1152),r=a(5947),n=a(7816),o=a(1078),d=a(3327),c=a(5229);let m=(0,i.createContext)(void 0);function x(e,t){switch(t.type){case"ADD_TOAST":return[...e,t.payload];case"REMOVE_TOAST":return e.filter(e=>e.id!==t.payload);default:return e}}function u(e){let{children:t}=e,[a,l]=(0,i.useReducer)(x,[]),r=e=>{l({type:"REMOVE_TOAST",payload:e})};return(0,s.jsxs)(m.Provider,{value:{toasts:a,addToast:e=>{let t=Math.random().toString(36).substr(2,9);l({type:"ADD_TOAST",payload:{...e,id:t}}),setTimeout(()=>{l({type:"REMOVE_TOAST",payload:t})},e.duration||5e3)},removeToast:r},children:[t,(0,s.jsx)(b,{toasts:a,removeToast:r})]})}function h(){let e=(0,i.useContext)(m);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function b(e){let{toasts:t,removeToast:a}=e;return(0,s.jsx)("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:(0,s.jsx)(l.N,{children:t.map(e=>(0,s.jsx)(p,{toast:e,onRemove:a},e.id))})})}function p(e){let{toast:t,onRemove:a}=e,i={success:n.A,error:o.A,warning:o.A,info:d.A}[t.type];return(0,s.jsx)(r.P.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5,transition:{duration:.2}},className:"glass-strong p-4 rounded-2xl min-w-80 max-w-96",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(i,{className:"w-5 h-5 mt-0.5 ".concat({success:"text-green-400",error:"text-red-400",warning:"text-yellow-400",info:"text-brand-blue"}[t.type])}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-white font-medium text-sm",children:t.title}),t.description&&(0,s.jsx)("p",{className:"text-brand-metal text-xs mt-1",children:t.description})]}),(0,s.jsx)("button",{onClick:()=>a(t.id),className:"text-brand-metal hover:text-white transition-colors duration-200","aria-label":"Close notification",title:"Close notification",children:(0,s.jsx)(c.A,{size:16})})]})})}}},e=>{e.O(0,[635,909,552,441,255,358],()=>e(e.s=2302)),_N_E=e.O()}]);